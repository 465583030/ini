<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>ini by go-ini</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">ini</h1>
      <h2 class="project-tagline">Package ini provides INI file read and write functionality in Go.</h2>
      <a href="https://github.com/go-ini/ini" class="btn">View on GitHub</a>
      <a href="https://github.com/go-ini/ini/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/go-ini/ini/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="ini--" class="anchor" href="#ini--" aria-hidden="true"><span class="octicon octicon-link"></span></a>ini <a href="https://drone.io/github.com/go-ini/ini/latest"><img src="https://drone.io/github.com/go-ini/ini/status.png" alt="Build Status"></a> <a href="http://gocover.io/github.com/go-ini/ini"><img src="http://gocover.io/_badge/github.com/go-ini/ini" alt=""></a>
</h1>

<p><img src="https://avatars0.githubusercontent.com/u/10216035?v=3&amp;s=200" alt=""></p>

<p>Package ini provides INI file read and write functionality in Go.</p>

<h2>
<a id="feature" class="anchor" href="#feature" aria-hidden="true"><span class="octicon octicon-link"></span></a>Feature</h2>

<ul>
<li>Load multiple data sources(<code>[]byte</code> or file) with overwrites.</li>
<li>Read with recursion values.</li>
<li>Read with parent-child sections.</li>
<li>Read with auto-increment key names.</li>
<li>Read with multiple-line values.</li>
<li>Read with tons of helper methods.</li>
<li>Read and convert values to Go types.</li>
<li>Read and <strong>WRITE</strong> comments of sections and keys.</li>
<li>Manipulate sections, keys and comments with ease.</li>
<li>Keep sections and keys in order as you parse and save.</li>
</ul>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<pre><code>go get gopkg.in/ini.v1
</code></pre>

<h2>
<a id="getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting Started</h2>

<h3>
<a id="loading-from-data-sources" class="anchor" href="#loading-from-data-sources" aria-hidden="true"><span class="octicon octicon-link"></span></a>Loading from data sources</h3>

<p>A <strong>Data Source</strong> is either raw data in type <code>[]byte</code> or a file name with type <code>string</code> and you can load <strong>as many as</strong> data sources you want. Passing other types will simply return an error.</p>

<div class="highlight highlight-source-go"><pre><span class="pl-smi">cfg</span>, <span class="pl-smi">err</span> <span class="pl-k">:=</span> ini.<span class="pl-c1">Load</span>([]<span class="pl-k">byte</span>(<span class="pl-s"><span class="pl-pds">"</span>raw data<span class="pl-pds">"</span></span>), <span class="pl-s"><span class="pl-pds">"</span>filename<span class="pl-pds">"</span></span>)</pre></div>

<p>Or start with an empty object:</p>

<div class="highlight highlight-source-go"><pre><span class="pl-smi">cfg</span> <span class="pl-k">:=</span> ini.<span class="pl-c1">Empty</span>()</pre></div>

<p>When you cannot decide how many data sources to load at the beginning, you still able to <strong>Append()</strong> them later.</p>

<div class="highlight highlight-source-go"><pre><span class="pl-smi">err</span> <span class="pl-k">:=</span> cfg.<span class="pl-c1">Append</span>(<span class="pl-s"><span class="pl-pds">"</span>other file<span class="pl-pds">"</span></span>, []<span class="pl-k">byte</span>(<span class="pl-s"><span class="pl-pds">"</span>other raw data<span class="pl-pds">"</span></span>))</pre></div>

<h3>
<a id="working-with-sections" class="anchor" href="#working-with-sections" aria-hidden="true"><span class="octicon octicon-link"></span></a>Working with sections</h3>

<p>To get a section, you would need to:</p>

<div class="highlight highlight-source-go"><pre><span class="pl-smi">section</span>, <span class="pl-smi">err</span> <span class="pl-k">:=</span> cfg.<span class="pl-c1">GetSection</span>(<span class="pl-s"><span class="pl-pds">"</span>section name<span class="pl-pds">"</span></span>)</pre></div>

<p>For a shortcut for default section, just give an empty string as name:</p>

<div class="highlight highlight-source-go"><pre><span class="pl-smi">section</span>, <span class="pl-smi">err</span> <span class="pl-k">:=</span> cfg.<span class="pl-c1">GetSection</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>)</pre></div>

<p>When you're pretty sure the section exists, following code could make your life easier:</p>

<div class="highlight highlight-source-go"><pre><span class="pl-smi">section</span> <span class="pl-k">:=</span> cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>)</pre></div>

<p>What happens when the section somehow does not exist? Don't panic, it automatically creates and returns a new section to you.</p>

<p>To create a new section:</p>

<div class="highlight highlight-source-go"><pre><span class="pl-smi">err</span> <span class="pl-k">:=</span> cfg.<span class="pl-c1">NewSection</span>(<span class="pl-s"><span class="pl-pds">"</span>new section<span class="pl-pds">"</span></span>)</pre></div>

<p>To get a list of sections or section names:</p>

<div class="highlight highlight-source-go"><pre><span class="pl-smi">sections</span> <span class="pl-k">:=</span> cfg.<span class="pl-c1">Sections</span>()
<span class="pl-smi">names</span> <span class="pl-k">:=</span> cfg.<span class="pl-c1">SectionStrings</span>()</pre></div>

<h3>
<a id="working-with-keys" class="anchor" href="#working-with-keys" aria-hidden="true"><span class="octicon octicon-link"></span></a>Working with keys</h3>

<p>To get a key under a section:</p>

<div class="highlight highlight-source-go"><pre><span class="pl-smi">key</span>, <span class="pl-smi">err</span> <span class="pl-k">:=</span> cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">GetKey</span>(<span class="pl-s"><span class="pl-pds">"</span>key name<span class="pl-pds">"</span></span>)</pre></div>

<p>Same rule applies to key operations:</p>

<div class="highlight highlight-source-go"><pre><span class="pl-smi">key</span> <span class="pl-k">:=</span> cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>key name<span class="pl-pds">"</span></span>)</pre></div>

<p>To check if a key exists:</p>

<div class="highlight highlight-source-go"><pre><span class="pl-smi">yes</span> <span class="pl-k">:=</span> cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">HasKey</span>(<span class="pl-s"><span class="pl-pds">"</span>key name<span class="pl-pds">"</span></span>)</pre></div>

<p>To create a new key:</p>

<div class="highlight highlight-source-go"><pre><span class="pl-smi">err</span> <span class="pl-k">:=</span> cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">NewKey</span>(<span class="pl-s"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>value<span class="pl-pds">"</span></span>)</pre></div>

<p>To get a list of keys or key names:</p>

<div class="highlight highlight-source-go"><pre><span class="pl-smi">keys</span> <span class="pl-k">:=</span> cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Keys</span>()
<span class="pl-smi">names</span> <span class="pl-k">:=</span> cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">KeyStrings</span>()</pre></div>

<p>To get a clone hash of keys and corresponding values:</p>

<div class="highlight highlight-source-go"><pre><span class="pl-smi">hash</span> <span class="pl-k">:=</span> cfg.<span class="pl-c1">GetSection</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">KeysHash</span>()</pre></div>

<h3>
<a id="working-with-values" class="anchor" href="#working-with-values" aria-hidden="true"><span class="octicon octicon-link"></span></a>Working with values</h3>

<p>To get a string value:</p>

<div class="highlight highlight-source-go"><pre><span class="pl-smi">val</span> <span class="pl-k">:=</span> cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>key name<span class="pl-pds">"</span></span>).<span class="pl-c1">String</span>()</pre></div>

<p>To validate key value on the fly:</p>

<div class="highlight highlight-source-go"><pre><span class="pl-smi">val</span> <span class="pl-k">:=</span> cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>key name<span class="pl-pds">"</span></span>).<span class="pl-c1">Validate</span>(<span class="pl-k">func</span>(in <span class="pl-k">string</span>) <span class="pl-k">string</span> {
    <span class="pl-k">if</span> <span class="pl-c1">len</span>(in) == <span class="pl-c1">0</span> {
        <span class="pl-k">return</span> <span class="pl-s"><span class="pl-pds">"</span>default<span class="pl-pds">"</span></span>
    }
    <span class="pl-k">return</span> in
})</pre></div>

<p>If you do not want any auto-transformation (such as recursive read) for the values, you can get raw value directly (this way you get much better performance):</p>

<div class="highlight highlight-source-go"><pre><span class="pl-smi">val</span> <span class="pl-k">:=</span> cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>key name<span class="pl-pds">"</span></span>).<span class="pl-c1">Value</span>()</pre></div>

<p>To check if raw value exists:</p>

<div class="highlight highlight-source-go"><pre><span class="pl-smi">yes</span> <span class="pl-k">:=</span> cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">HasValue</span>(<span class="pl-s"><span class="pl-pds">"</span>test value<span class="pl-pds">"</span></span>)</pre></div>

<p>To get value with types:</p>

<div class="highlight highlight-source-go"><pre><span class="pl-c">// For boolean values:</span>
<span class="pl-c">// true when value is: 1, t, T, TRUE, true, True, YES, yes, Yes, ON, on, On</span>
<span class="pl-c">// false when value is: 0, f, F, FALSE, false, False, NO, no, No, OFF, off, Off</span>
v, err = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>BOOL<span class="pl-pds">"</span></span>).<span class="pl-c1">Bool</span>()
v, err = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>FLOAT64<span class="pl-pds">"</span></span>).<span class="pl-c1">Float64</span>()
v, err = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>INT<span class="pl-pds">"</span></span>).<span class="pl-c1">Int</span>()
v, err = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>INT64<span class="pl-pds">"</span></span>).<span class="pl-c1">Int64</span>()
v, err = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>UINT<span class="pl-pds">"</span></span>).<span class="pl-c1">Uint</span>()
v, err = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>UINT64<span class="pl-pds">"</span></span>).<span class="pl-c1">Uint64</span>()
v, err = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>TIME<span class="pl-pds">"</span></span>).<span class="pl-c1">TimeFormat</span>(time.<span class="pl-smi">RFC3339</span>)
v, err = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>TIME<span class="pl-pds">"</span></span>).<span class="pl-c1">Time</span>() <span class="pl-c">// RFC3339</span>

v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>BOOL<span class="pl-pds">"</span></span>).<span class="pl-c1">MustBool</span>()
v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>FLOAT64<span class="pl-pds">"</span></span>).<span class="pl-c1">MustFloat64</span>()
v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>INT<span class="pl-pds">"</span></span>).<span class="pl-c1">MustInt</span>()
v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>INT64<span class="pl-pds">"</span></span>).<span class="pl-c1">MustInt64</span>()
v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>UINT<span class="pl-pds">"</span></span>).<span class="pl-c1">MustUint</span>()
v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>UINT64<span class="pl-pds">"</span></span>).<span class="pl-c1">MustUint64</span>()
v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>TIME<span class="pl-pds">"</span></span>).<span class="pl-c1">MustTimeFormat</span>(time.<span class="pl-smi">RFC3339</span>)
v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>TIME<span class="pl-pds">"</span></span>).<span class="pl-c1">MustTime</span>() <span class="pl-c">// RFC3339</span>

<span class="pl-c">// Methods start with Must also accept one argument for default value</span>
<span class="pl-c">// when key not found or fail to parse value to given type.</span>
<span class="pl-c">// Except method MustString, which you have to pass a default value.</span>

v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>String<span class="pl-pds">"</span></span>).<span class="pl-c1">MustString</span>(<span class="pl-s"><span class="pl-pds">"</span>default<span class="pl-pds">"</span></span>)
v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>BOOL<span class="pl-pds">"</span></span>).<span class="pl-c1">MustBool</span>(<span class="pl-c1">true</span>)
v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>FLOAT64<span class="pl-pds">"</span></span>).<span class="pl-c1">MustFloat64</span>(<span class="pl-c1">1.25</span>)
v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>INT<span class="pl-pds">"</span></span>).<span class="pl-c1">MustInt</span>(<span class="pl-c1">10</span>)
v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>INT64<span class="pl-pds">"</span></span>).<span class="pl-c1">MustInt64</span>(<span class="pl-c1">99</span>)
v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>UINT<span class="pl-pds">"</span></span>).<span class="pl-c1">MustUint</span>(<span class="pl-c1">3</span>)
v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>UINT64<span class="pl-pds">"</span></span>).<span class="pl-c1">MustUint64</span>(<span class="pl-c1">6</span>)
v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>TIME<span class="pl-pds">"</span></span>).<span class="pl-c1">MustTimeFormat</span>(time.<span class="pl-smi">RFC3339</span>, time.<span class="pl-c1">Now</span>())
v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>TIME<span class="pl-pds">"</span></span>).<span class="pl-c1">MustTime</span>(time.<span class="pl-c1">Now</span>()) <span class="pl-c">// RFC3339</span></pre></div>

<p>What if my value is three-line long?</p>

<div class="highlight highlight-source-ini"><pre><span class="pl-en">[advance]</span>
<span class="pl-k">ADDRESS</span> = <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span><span class="pl-pds">"</span>404 road,</span>
<span class="pl-s">NotFound, State, 5000</span>
<span class="pl-s">Earth<span class="pl-pds">"</span><span class="pl-pds">"</span><span class="pl-pds">"</span></span></pre></div>

<p>Not a problem!</p>

<div class="highlight highlight-source-go"><pre>cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span>advance<span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>ADDRESS<span class="pl-pds">"</span></span>).<span class="pl-c1">String</span>()

<span class="pl-c">/* --- start ---</span>
<span class="pl-c">404 road,</span>
<span class="pl-c">NotFound, State, 5000</span>
<span class="pl-c">Earth</span>
<span class="pl-c">------  end  --- */</span></pre></div>

<p>That's cool, how about continuation lines?</p>

<div class="highlight highlight-source-ini"><pre><span class="pl-en">[advance]</span>
<span class="pl-k">two_lines</span> = how about \
    continuation lines?
<span class="pl-k">lots_of_lines</span> = 1 \
    2 \
    3 \
    4</pre></div>

<p>Piece of cake!</p>

<div class="highlight highlight-source-go"><pre>cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span>advance<span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>two_lines<span class="pl-pds">"</span></span>).<span class="pl-c1">String</span>() <span class="pl-c">// how about continuation lines?</span>
cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span>advance<span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>lots_of_lines<span class="pl-pds">"</span></span>).<span class="pl-c1">String</span>() <span class="pl-c">// 1 2 3 4</span></pre></div>

<p>Note that single quotes around values will be stripped:</p>

<div class="highlight highlight-source-ini"><pre><span class="pl-k">foo</span> = <span class="pl-s"><span class="pl-pds">"</span>some value<span class="pl-pds">"</span></span> // foo: some value
<span class="pl-k">bar</span> = <span class="pl-s"><span class="pl-pds">'</span>some value<span class="pl-pds">'</span></span> // bar: some value</pre></div>

<p>That's all? Hmm, no.</p>

<h4>
<a id="helper-methods-of-working-with-values" class="anchor" href="#helper-methods-of-working-with-values" aria-hidden="true"><span class="octicon octicon-link"></span></a>Helper methods of working with values</h4>

<p>To get value with given candidates:</p>

<div class="highlight highlight-source-go"><pre>v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>STRING<span class="pl-pds">"</span></span>).<span class="pl-c1">In</span>(<span class="pl-s"><span class="pl-pds">"</span>default<span class="pl-pds">"</span></span>, []<span class="pl-k">string</span>{<span class="pl-s"><span class="pl-pds">"</span>str<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>arr<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>types<span class="pl-pds">"</span></span>})
v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>FLOAT64<span class="pl-pds">"</span></span>).<span class="pl-c1">InFloat64</span>(<span class="pl-c1">1.1</span>, []<span class="pl-k">float64</span>{<span class="pl-c1">1.25</span>, <span class="pl-c1">2.5</span>, <span class="pl-c1">3.75</span>})
v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>INT<span class="pl-pds">"</span></span>).<span class="pl-c1">InInt</span>(<span class="pl-c1">5</span>, []<span class="pl-k">int</span>{<span class="pl-c1">10</span>, <span class="pl-c1">20</span>, <span class="pl-c1">30</span>})
v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>INT64<span class="pl-pds">"</span></span>).<span class="pl-c1">InInt64</span>(<span class="pl-c1">10</span>, []<span class="pl-k">int64</span>{<span class="pl-c1">10</span>, <span class="pl-c1">20</span>, <span class="pl-c1">30</span>})
v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>UINT<span class="pl-pds">"</span></span>).<span class="pl-c1">InUint</span>(<span class="pl-c1">4</span>, []<span class="pl-k">int</span>{<span class="pl-c1">3</span>, <span class="pl-c1">6</span>, <span class="pl-c1">9</span>})
v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>UINT64<span class="pl-pds">"</span></span>).<span class="pl-c1">InUint64</span>(<span class="pl-c1">8</span>, []<span class="pl-k">int64</span>{<span class="pl-c1">3</span>, <span class="pl-c1">6</span>, <span class="pl-c1">9</span>})
v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>TIME<span class="pl-pds">"</span></span>).<span class="pl-c1">InTimeFormat</span>(time.<span class="pl-smi">RFC3339</span>, time.<span class="pl-c1">Now</span>(), []time.<span class="pl-smi">Time</span>{time1, time2, time3})
v = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>TIME<span class="pl-pds">"</span></span>).<span class="pl-c1">InTime</span>(time.<span class="pl-c1">Now</span>(), []time.<span class="pl-smi">Time</span>{time1, time2, time3}) <span class="pl-c">// RFC3339</span></pre></div>

<p>Default value will be presented if value of key is not in candidates you given, and default value does not need be one of candidates.</p>

<p>To validate value in a given range:</p>

<div class="highlight highlight-source-go"><pre>vals = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>FLOAT64<span class="pl-pds">"</span></span>).<span class="pl-c1">RangeFloat64</span>(<span class="pl-c1">0.0</span>, <span class="pl-c1">1.1</span>, <span class="pl-c1">2.2</span>)
vals = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>INT<span class="pl-pds">"</span></span>).<span class="pl-c1">RangeInt</span>(<span class="pl-c1">0</span>, <span class="pl-c1">10</span>, <span class="pl-c1">20</span>)
vals = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>INT64<span class="pl-pds">"</span></span>).<span class="pl-c1">RangeInt64</span>(<span class="pl-c1">0</span>, <span class="pl-c1">10</span>, <span class="pl-c1">20</span>)
vals = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>UINT<span class="pl-pds">"</span></span>).<span class="pl-c1">RangeUint</span>(<span class="pl-c1">0</span>, <span class="pl-c1">3</span>, <span class="pl-c1">9</span>)
vals = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>UINT64<span class="pl-pds">"</span></span>).<span class="pl-c1">RangeUint64</span>(<span class="pl-c1">0</span>, <span class="pl-c1">3</span>, <span class="pl-c1">9</span>)
vals = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>TIME<span class="pl-pds">"</span></span>).<span class="pl-c1">RangeTimeFormat</span>(time.<span class="pl-smi">RFC3339</span>, time.<span class="pl-c1">Now</span>(), minTime, maxTime)
vals = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>TIME<span class="pl-pds">"</span></span>).<span class="pl-c1">RangeTime</span>(time.<span class="pl-c1">Now</span>(), minTime, maxTime) <span class="pl-c">// RFC3339</span></pre></div>

<p>To auto-split value into slice:</p>

<div class="highlight highlight-source-go"><pre>vals = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>STRINGS<span class="pl-pds">"</span></span>).<span class="pl-c1">Strings</span>(<span class="pl-s"><span class="pl-pds">"</span>,<span class="pl-pds">"</span></span>)
vals = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>FLOAT64S<span class="pl-pds">"</span></span>).<span class="pl-c1">Float64s</span>(<span class="pl-s"><span class="pl-pds">"</span>,<span class="pl-pds">"</span></span>)
vals = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>INTS<span class="pl-pds">"</span></span>).<span class="pl-c1">Ints</span>(<span class="pl-s"><span class="pl-pds">"</span>,<span class="pl-pds">"</span></span>)
vals = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>INT64S<span class="pl-pds">"</span></span>).<span class="pl-c1">Int64s</span>(<span class="pl-s"><span class="pl-pds">"</span>,<span class="pl-pds">"</span></span>)
vals = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>UINTS<span class="pl-pds">"</span></span>).<span class="pl-c1">Uints</span>(<span class="pl-s"><span class="pl-pds">"</span>,<span class="pl-pds">"</span></span>)
vals = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>UINT64S<span class="pl-pds">"</span></span>).<span class="pl-c1">Uint64s</span>(<span class="pl-s"><span class="pl-pds">"</span>,<span class="pl-pds">"</span></span>)
vals = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>TIMES<span class="pl-pds">"</span></span>).<span class="pl-c1">Times</span>(<span class="pl-s"><span class="pl-pds">"</span>,<span class="pl-pds">"</span></span>)</pre></div>

<h3>
<a id="save-your-configuration" class="anchor" href="#save-your-configuration" aria-hidden="true"><span class="octicon octicon-link"></span></a>Save your configuration</h3>

<p>Finally, it's time to save your configuration to somewhere.</p>

<p>A typical way to save configuration is writing it to a file:</p>

<div class="highlight highlight-source-go"><pre><span class="pl-c">// ...</span>
err = cfg.<span class="pl-c1">SaveTo</span>(<span class="pl-s"><span class="pl-pds">"</span>my.ini<span class="pl-pds">"</span></span>)
err = cfg.<span class="pl-c1">SaveToIndent</span>(<span class="pl-s"><span class="pl-pds">"</span>my.ini<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\t</span><span class="pl-pds">"</span></span>)</pre></div>

<p>Another way to save is writing to a <code>io.Writer</code> interface:</p>

<div class="highlight highlight-source-go"><pre><span class="pl-c">// ...</span>
cfg.<span class="pl-c1">WriteTo</span>(writer)
cfg.<span class="pl-c1">WriteToIndent</span>(writer, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-cce">\t</span><span class="pl-pds">"</span></span>)</pre></div>

<h2>
<a id="advanced-usage" class="anchor" href="#advanced-usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Advanced Usage</h2>

<h3>
<a id="recursive-values" class="anchor" href="#recursive-values" aria-hidden="true"><span class="octicon octicon-link"></span></a>Recursive Values</h3>

<p>For all value of keys, there is a special syntax <code>%(&lt;name&gt;)s</code>, where <code>&lt;name&gt;</code> is the key name in same section or default section, and <code>%(&lt;name&gt;)s</code> will be replaced by corresponding value(empty string if key not found). You can use this syntax at most 99 level of recursions.</p>

<div class="highlight highlight-source-ini"><pre><span class="pl-k">NAME</span> = ini

<span class="pl-en">[author]</span>
<span class="pl-k">NAME</span> = Unknwon
<span class="pl-k">GITHUB</span> = https://github.com/%(NAME)s

<span class="pl-en">[package]</span>
<span class="pl-k">FULL_NAME</span> = github.com/go-ini/%(NAME)s</pre></div>

<div class="highlight highlight-source-go"><pre>cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span>author<span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>GITHUB<span class="pl-pds">"</span></span>).<span class="pl-c1">String</span>()        <span class="pl-c">// https://github.com/Unknwon</span>
cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span>package<span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>FULL_NAME<span class="pl-pds">"</span></span>).<span class="pl-c1">String</span>()    <span class="pl-c">// github.com/go-ini/ini</span></pre></div>

<h3>
<a id="parent-child-sections" class="anchor" href="#parent-child-sections" aria-hidden="true"><span class="octicon octicon-link"></span></a>Parent-child Sections</h3>

<p>You can use <code>.</code> in section name to indicate parent-child relationship between two or more sections. If the key not found in the child section, library will try again on its parent section until there is no parent section.</p>

<div class="highlight highlight-source-ini"><pre><span class="pl-k">NAME</span> = ini
<span class="pl-k">VERSION</span> = v1
<span class="pl-k">IMPORT_PATH</span> = gopkg.in/%(NAME)s.%(VERSION)s

<span class="pl-en">[package]</span>
<span class="pl-k">CLONE_URL</span> = https://%(IMPORT_PATH)s

<span class="pl-en">[package.sub]</span></pre></div>

<div class="highlight highlight-source-go"><pre>cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span>package.sub<span class="pl-pds">"</span></span>).<span class="pl-c1">Key</span>(<span class="pl-s"><span class="pl-pds">"</span>CLONE_URL<span class="pl-pds">"</span></span>).<span class="pl-c1">String</span>()    <span class="pl-c">// https://gopkg.in/ini.v1</span></pre></div>

<h3>
<a id="auto-increment-key-names" class="anchor" href="#auto-increment-key-names" aria-hidden="true"><span class="octicon octicon-link"></span></a>Auto-increment Key Names</h3>

<p>If key name is <code>-</code> in data source, then it would be seen as special syntax for auto-increment key name start from 1, and every section is independent on counter.</p>

<div class="highlight highlight-source-ini"><pre><span class="pl-en">[features]</span>
-: Support read/write comments of keys and sections
-: Support auto-increment of key names
-: Support load multiple files to overwrite key values</pre></div>

<div class="highlight highlight-source-go"><pre>cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span>features<span class="pl-pds">"</span></span>).<span class="pl-c1">KeyStrings</span>()    <span class="pl-c">// []{"#1", "#2", "#3"}</span></pre></div>

<h3>
<a id="map-to-struct" class="anchor" href="#map-to-struct" aria-hidden="true"><span class="octicon octicon-link"></span></a>Map To Struct</h3>

<p>Want more objective way to play with INI? Cool.</p>

<div class="highlight highlight-source-ini"><pre><span class="pl-k">Name</span> = Unknwon
<span class="pl-k">age</span> = 21
<span class="pl-k">Male</span> = true
<span class="pl-k">Born</span> = 1993-01-01T20:17:05Z

<span class="pl-en">[Note]</span>
<span class="pl-k">Content</span> = Hi is a good man!
<span class="pl-k">Cities</span> = HangZhou, Boston</pre></div>

<div class="highlight highlight-source-go"><pre><span class="pl-k">type</span> <span class="pl-v">Note</span> <span class="pl-k">struct</span> {
    <span class="pl-v">Content</span> <span class="pl-k">string</span>
    <span class="pl-v">Cities</span>  []<span class="pl-k">string</span>
}

<span class="pl-k">type</span> <span class="pl-v">Person</span> <span class="pl-k">struct</span> {
    <span class="pl-v">Name</span> <span class="pl-k">string</span>
    <span class="pl-v">Age</span>  <span class="pl-k">int</span> <span class="pl-s"><span class="pl-pds">`</span>ini:"age"<span class="pl-pds">`</span></span>
    <span class="pl-v">Male</span> <span class="pl-k">bool</span>
    <span class="pl-v">Born</span> time.<span class="pl-smi">Time</span>
    <span class="pl-v">Note</span>
    <span class="pl-v">Created</span> time.<span class="pl-smi">Time</span> <span class="pl-s"><span class="pl-pds">`</span>ini:"-"<span class="pl-pds">`</span></span>
}

<span class="pl-k">func</span> <span class="pl-en">main</span>() {
    <span class="pl-smi">cfg</span>, <span class="pl-smi">err</span> <span class="pl-k">:=</span> ini.<span class="pl-c1">Load</span>(<span class="pl-s"><span class="pl-pds">"</span>path/to/ini<span class="pl-pds">"</span></span>)
    <span class="pl-c">// ...</span>
    <span class="pl-smi">p</span> <span class="pl-k">:=</span> <span class="pl-c1">new</span>(Person)
    err = cfg.<span class="pl-c1">MapTo</span>(p)
    <span class="pl-c">// ...</span>

    <span class="pl-c">// Things can be simpler.</span>
    err = ini.<span class="pl-c1">MapTo</span>(p, <span class="pl-s"><span class="pl-pds">"</span>path/to/ini<span class="pl-pds">"</span></span>)
    <span class="pl-c">// ...</span>

    <span class="pl-c">// Just map a section? Fine.</span>
    <span class="pl-smi">n</span> <span class="pl-k">:=</span> <span class="pl-c1">new</span>(Note)
    err = cfg.<span class="pl-c1">Section</span>(<span class="pl-s"><span class="pl-pds">"</span>Note<span class="pl-pds">"</span></span>).<span class="pl-c1">MapTo</span>(n)
    <span class="pl-c">// ...</span>
}</pre></div>

<p>Can I have default value for field? Absolutely.</p>

<p>Assign it before you map to struct. It will keep the value as it is if the key is not presented or got wrong type.</p>

<div class="highlight highlight-source-go"><pre><span class="pl-c">// ...</span>
<span class="pl-smi">p</span> <span class="pl-k">:=</span> &amp;Person{
    <span class="pl-v">Name</span>: <span class="pl-s"><span class="pl-pds">"</span>Joe<span class="pl-pds">"</span></span>,
}
<span class="pl-c">// ...</span></pre></div>

<p>It's really cool, but what's the point if you can't give me my file back from struct?</p>

<h3>
<a id="reflect-from-struct" class="anchor" href="#reflect-from-struct" aria-hidden="true"><span class="octicon octicon-link"></span></a>Reflect From Struct</h3>

<p>Why not?</p>

<div class="highlight highlight-source-go"><pre><span class="pl-k">type</span> <span class="pl-v">Embeded</span> <span class="pl-k">struct</span> {
    <span class="pl-v">Dates</span>  []time.<span class="pl-smi">Time</span> <span class="pl-s"><span class="pl-pds">`</span>delim:"|"<span class="pl-pds">`</span></span>
    <span class="pl-v">Places</span> []<span class="pl-k">string</span>
    <span class="pl-v">None</span>   []<span class="pl-k">int</span>
}

<span class="pl-k">type</span> <span class="pl-v">Author</span> <span class="pl-k">struct</span> {
    <span class="pl-v">Name</span>      <span class="pl-k">string</span> <span class="pl-s"><span class="pl-pds">`</span>ini:"NAME"<span class="pl-pds">`</span></span>
    <span class="pl-v">Male</span>      <span class="pl-k">bool</span>
    <span class="pl-v">Age</span>       <span class="pl-k">int</span>
    <span class="pl-v">GPA</span>       <span class="pl-k">float64</span>
    <span class="pl-v">NeverMind</span> <span class="pl-k">string</span> <span class="pl-s"><span class="pl-pds">`</span>ini:"-"<span class="pl-pds">`</span></span>
    *Embeded
}

<span class="pl-k">func</span> <span class="pl-en">main</span>() {
    <span class="pl-smi">a</span> <span class="pl-k">:=</span> &amp;Author{<span class="pl-s"><span class="pl-pds">"</span>Unknwon<span class="pl-pds">"</span></span>, <span class="pl-c1">true</span>, <span class="pl-c1">21</span>, <span class="pl-c1">2.8</span>, <span class="pl-s"><span class="pl-pds">"</span><span class="pl-pds">"</span></span>,
        &amp;Embeded{
            []time.<span class="pl-smi">Time</span>{time.<span class="pl-c1">Now</span>(), time.<span class="pl-c1">Now</span>()},
            []<span class="pl-k">string</span>{<span class="pl-s"><span class="pl-pds">"</span>HangZhou<span class="pl-pds">"</span></span>, <span class="pl-s"><span class="pl-pds">"</span>Boston<span class="pl-pds">"</span></span>},
            []<span class="pl-k">int</span>{},
        }}
    <span class="pl-smi">cfg</span> <span class="pl-k">:=</span> ini.<span class="pl-c1">Empty</span>()
    err = ini.<span class="pl-c1">ReflectFrom</span>(cfg, a)
    <span class="pl-c">// ...</span>
}</pre></div>

<p>So, what do I get?</p>

<div class="highlight highlight-source-ini"><pre><span class="pl-k">NAME</span> = Unknwon
<span class="pl-k">Male</span> = true
<span class="pl-k">Age</span> = 21
<span class="pl-k">GPA</span> = 2.8

<span class="pl-en">[Embeded]</span>
<span class="pl-k">Dates</span> = 2015-08-07T22:14:22+08:00|2015-08-07T22:14:22+08:00
<span class="pl-k">Places</span> = HangZhou,Boston
<span class="pl-k">None</span> =</pre></div>

<h4>
<a id="name-mapper" class="anchor" href="#name-mapper" aria-hidden="true"><span class="octicon octicon-link"></span></a>Name Mapper</h4>

<p>To save your time and make your code cleaner, this library supports <a href="https://gowalker.org/gopkg.in/ini.v1#NameMapper"><code>NameMapper</code></a> between struct field and actual section and key name.</p>

<p>There are 2 built-in name mappers:</p>

<ul>
<li>
<code>AllCapsUnderscore</code>: it converts to format <code>ALL_CAPS_UNDERSCORE</code> then match section or key.</li>
<li>
<code>TitleUnderscore</code>: it converts to format <code>title_underscore</code> then match section or key.</li>
</ul>

<p>To use them:</p>

<div class="highlight highlight-source-go"><pre><span class="pl-k">type</span> <span class="pl-v">Info</span> <span class="pl-k">struct</span> {
    <span class="pl-v">PackageName</span> <span class="pl-k">string</span>
}

<span class="pl-k">func</span> <span class="pl-en">main</span>() {
    err = ini.<span class="pl-c1">MapToWithMapper</span>(&amp;Info{}, ini.<span class="pl-smi">TitleUnderscore</span>, []<span class="pl-k">byte</span>(<span class="pl-s"><span class="pl-pds">"</span>packag_name=ini<span class="pl-pds">"</span></span>))
    <span class="pl-c">// ...</span>

    <span class="pl-smi">cfg</span>, <span class="pl-smi">err</span> <span class="pl-k">:=</span> ini.<span class="pl-c1">Load</span>([]<span class="pl-k">byte</span>(<span class="pl-s"><span class="pl-pds">"</span>PACKAGE_NAME=ini<span class="pl-pds">"</span></span>))
    <span class="pl-c">// ...</span>
    <span class="pl-smi">info</span> <span class="pl-k">:=</span> <span class="pl-c1">new</span>(Info)
    cfg.<span class="pl-smi">NameMapper</span> = ini.<span class="pl-smi">AllCapsUnderscore</span>
    err = cfg.<span class="pl-c1">MapTo</span>(info)
    <span class="pl-c">// ...</span>
}</pre></div>

<p>Same rules of name mapper apply to <code>ini.ReflectFromWithMapper</code> function.</p>

<h4>
<a id="other-notes-on-mapreflect" class="anchor" href="#other-notes-on-mapreflect" aria-hidden="true"><span class="octicon octicon-link"></span></a>Other Notes On Map/Reflect</h4>

<p>Any embedded struct is treated as a section by default, and there is no automatic parent-child relations in map/reflect feature:</p>

<div class="highlight highlight-source-go"><pre><span class="pl-k">type</span> <span class="pl-v">Child</span> <span class="pl-k">struct</span> {
    <span class="pl-v">Age</span> <span class="pl-k">string</span>
}

<span class="pl-k">type</span> <span class="pl-v">Parent</span> <span class="pl-k">struct</span> {
    <span class="pl-v">Name</span> <span class="pl-k">string</span>
    <span class="pl-v">Child</span>
}

<span class="pl-k">type</span> <span class="pl-v">Config</span> <span class="pl-k">struct</span> {
    <span class="pl-v">City</span> <span class="pl-k">string</span>
    <span class="pl-v">Parent</span>
}</pre></div>

<p>Example configuration:</p>

<div class="highlight highlight-source-ini"><pre><span class="pl-k">City</span> = Boston

<span class="pl-en">[Parent]</span>
<span class="pl-k">Name</span> = Unknwon

<span class="pl-en">[Child]</span>
<span class="pl-k">Age</span> = 21</pre></div>

<p>What if, yes, I'm paranoid, I want embedded struct to be in the same section. Well, all roads lead to Rome.</p>

<div class="highlight highlight-source-go"><pre><span class="pl-k">type</span> <span class="pl-v">Child</span> <span class="pl-k">struct</span> {
    <span class="pl-v">Age</span> <span class="pl-k">string</span>
}

<span class="pl-k">type</span> <span class="pl-v">Parent</span> <span class="pl-k">struct</span> {
    <span class="pl-v">Name</span> <span class="pl-k">string</span>
    <span class="pl-v">Child</span> <span class="pl-s"><span class="pl-pds">`</span>ini:"Parent"<span class="pl-pds">`</span></span>
}

<span class="pl-k">type</span> <span class="pl-v">Config</span> <span class="pl-k">struct</span> {
    <span class="pl-v">City</span> <span class="pl-k">string</span>
    <span class="pl-v">Parent</span>
}</pre></div>

<p>Example configuration:</p>

<div class="highlight highlight-source-ini"><pre><span class="pl-k">City</span> = Boston

<span class="pl-en">[Parent]</span>
<span class="pl-k">Name</span> = Unknwon
<span class="pl-k">Age</span> = 21</pre></div>

<h2>
<a id="getting-help" class="anchor" href="#getting-help" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting Help</h2>

<ul>
<li><a href="https://gowalker.org/gopkg.in/ini.v1">API Documentation</a></li>
<li><a href="https://github.com/go-ini/ini/issues/new">File An Issue</a></li>
</ul>

<h2>
<a id="faqs" class="anchor" href="#faqs" aria-hidden="true"><span class="octicon octicon-link"></span></a>FAQs</h2>

<h3>
<a id="what-does-blockmode-field-do" class="anchor" href="#what-does-blockmode-field-do" aria-hidden="true"><span class="octicon octicon-link"></span></a>What does <code>BlockMode</code> field do?</h3>

<p>By default, library lets you read and write values so we need a locker to make sure your data is safe. But in cases that you are very sure about only reading data through the library, you can set <code>cfg.BlockMode = false</code> to speed up read operations about <strong>50-70%</strong> faster.</p>

<h3>
<a id="why-another-ini-library" class="anchor" href="#why-another-ini-library" aria-hidden="true"><span class="octicon octicon-link"></span></a>Why another INI library?</h3>

<p>Many people are using my another INI library <a href="https://github.com/Unknwon/goconfig">goconfig</a>, so the reason for this one is I would like to make more Go style code. Also when you set <code>cfg.BlockMode = false</code>, this one is about <strong>10-30%</strong> faster.</p>

<p>To make those changes I have to confirm API broken, so it's safer to keep it in another place and start using <code>gopkg.in</code> to version my package at this time.(PS: shorter import path)</p>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>This project is under Apache v2 License. See the <a href="LICENSE">LICENSE</a> file for the full license text.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/go-ini/ini">ini</a> is maintained by <a href="https://github.com/go-ini">go-ini</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
